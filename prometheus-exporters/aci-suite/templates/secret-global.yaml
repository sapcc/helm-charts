{{- if and .Values.global.auth.enabled (not .Values.global.auth.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "aci-suite.secretName" . }}
  labels:
    {{- include "aci-suite.labels" . | nindent 4 }}
type: Opaque
stringData:
  {{ .Values.global.secretKeys.aci_user }}: {{ required "global.secretsSeed.aci_user missing" .Values.global.secretsSeed.aci_user | quote }}
  {{ .Values.global.secretKeys.aci_password }}: {{ required "global.secretsSeed.aci_password missing" .Values.global.secretsSeed.aci_password | quote }}
  {{ .Values.global.secretKeys.cache_password }}: {{ required "global.secretsSeed.cache_password missing" .Values.global.secretsSeed.cache_password | quote }}
{{- end }}
