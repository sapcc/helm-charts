{{- if .Values.updater.api.enabled }}
kind: Service
apiVersion: v1

metadata:
  name: {{ include "fullname" . }}-service
  namespace: {{ .Values.updater.namespace }}
  labels:
    app: {{ include "fullname" . }}
    type: service

spec:
  type: LoadBalancer
  selector:
    name: {{ include "fullname" . }}
  ports:
  - name: {{ include "fullname" . }}-api
    port: {{.Values.updater.api.port}}
    targetPort: {{ include "fullname" . }}-port
    protocol: TCP
{{- end}}