apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "fullname" . }}
data:
  config.yaml: |
    region: {{ .Values.global.region }}

    connection_timeout: {{ required ".Values.updater.connection_timeout" .Values.updater.connection_timeout }}
    scrape_interval: {{ required ".Values.updater.scrape_interval" .Values.updater.scrape_interval }}
    mtu: {{ .Values.updater.mtu | default 9000 }}
    force: {{ .Values.updater.force | default false }}
    iponly: {{ .Values.updater.iponly | default false }}
    write: {{ .Values.updater.write | default false }}
    
    netbox:
{{ toYaml .Values.updater.netbox | nindent 6 }}
