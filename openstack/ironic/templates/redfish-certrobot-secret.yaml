apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-redfish-certrobot
  annotations:
    cloud.sap/inject-secrets: "true"
type: Opaque
data:
  bmc_certrobot_username: {{ required ".Values.cert_robot.bmc_certrobot_username is missing" .Values.cert_robot.bmc_certrobot_username | b64enc  }}
  bmc_certrobot_passwd: {{ required ".Values.cert_robot.bmc_certrobot_passwd is missing" .Values.cert_robot.bmc_certrobot_passwd | b64enc  }}
stringData:
  common: |
{{ toYaml .Values.cert_robot.cloud_common | include "resolve_secret" | indent 4 }}
  sdk: |
{{ toYaml .Values.cert_robot.cloud_sdk | indent 4 }}
