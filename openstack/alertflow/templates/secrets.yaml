{{- if .Values.alertflow.enabled -}}
apiVersion: v1
kind: Secret
metadata:
  name: alertflow-secrets
  namespace: {{ .Values.namespace }}
data:
  billing_endpoint: {{ required "missing billing endpoint" .Values.alertflow.config.billing_endpoint | b64enc }}
  billing_token: {{ required "missing billing service token" .Values.alertflow.config.billing_token | b64enc }}
  smtp_host: {{ required "missing smtp host" .Values.alertflow.config.smtp_host | b64enc }}
  smtp_user: {{ required "missing smtp user" .Values.alertflow.config.smtp_user | b64enc }}
  smtp_password: {{ required "missing smtp password" .Values.alertflow.config.smtp_password | b64enc }}

{{- end -}}
