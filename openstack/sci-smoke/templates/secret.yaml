---
apiVersion: v1
kind: Secret
metadata:
  name: sci-smoke-openstack-credentials
  labels:
    app: sci-smoke
type: Opaque
data:
  OS_AUTH_URL: {{ printf "https://identity-3.%s.%s/v3" .Values.global.region .Values.global.tld | b64enc | quote }}
  OS_USERNAME: {{ required "Missing openstack.username value!" .Values.openstack.username | b64enc | quote }}
  OS_PASSWORD: {{ required "Missing openstack.password value!" .Values.openstack.password | b64enc | quote }}
  OS_PROJECT_NAME: {{ required "Missing openstack.project_name value!" .Values.openstack.project_name | b64enc | quote }}
  OS_USER_DOMAIN_NAME: {{ required "Missing openstack.user_domain_name value!" .Values.openstack.user_domain_name | b64enc | quote }}
  OS_PROJECT_DOMAIN_NAME: {{ required "Missing openstack.project_domain_name value!" .Values.openstack.project_domain_name | b64enc | quote }}

  # Webhook Notification (optional)
  WEBHOOK_URL: {{ .Values.webhookUrl | default "" | b64enc | quote }}
