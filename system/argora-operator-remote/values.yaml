owner-info:
  support-group: containers
  helm-chart-url: https://github.com/sapcc/helm-charts/tree/master/system/argora-operator-remote

config:
  configJson: '{{ toJson .Values.config }}'

kubernetesClusterDomain: cluster.local
fullnameOverride: argora-operator

argora-operator-core:
  rbac:
    enable: false
  crd:
    enable: false
  metrics:
    enable: false
  webhook:
    enable: false
  prometheus:
    enable: false
  certmanager:
    enable: false
  networkPolicy:
    enable: false

  controllerManager:
    container:
      args:
        - --health-probe-bind-address=:30081
        - --metrics-bind-address=127.0.0.1:30082
      containerSecurityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
            - ALL
      env:
        KUBERNETES_SERVICE_HOST: "apiserver-url"
        ENABLE_WEBHOOKS: "false"
        KUBERNETES_CLUSTER_DOMAIN: "cluster.local"
      volumes:
      - name: secret-volume
        mountPath: /etc/credentials
        readOnly: true
        source:
          secret:
            secretName: argora-operator-secret
      - name: config-volume
        mountPath: /etc/config
        readOnly: true
        source:
          secret:
            secretName: argora-operator-config
      - name: remote-kubeconfig
        mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        readOnly: true
        source:
          secret:
            secretName: argora-operator-remote-kubeconfig
            items:
            - key: token
              path: token
            - key: bundle.crt
              path: ca.crt
      resources:
        limits:
          cpu: 500m
          memory: 128Mi
        requests:
          cpu: 10m
          memory: 64Mi
    podSecurityContext:
      runAsNonRoot: true
      seccompProfile:
        type: RuntimeDefault
    replicas: 1
    serviceAccount:
      annotations: {}
    strategy:
      type: Recreate
    pod:
      labels:
        networking.gardener.cloud/to-dns: allowed
        networking.gardener.cloud/to-private-networks: allowed
        networking.gardener.cloud/to-public-networks: allowed
        networking.gardener.cloud/to-runtime-apiserver: allowed
        networking.resources.gardener.cloud/to-all-istio-ingresses-istio-ingressgateway-tcp-9443: allowed
        networking.resources.gardener.cloud/to-kube-apiserver-tcp-443: allowed
    serviceAccountName: default
    hostNetwork: false
