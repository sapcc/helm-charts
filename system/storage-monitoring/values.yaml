global:
  domain: cloud.sap
  clusterType: metal

owner-info:
  support-group: observability
  maintainers: 
    - Tommy Sauer
    - Richard Tief
  helm-chart-url: https://github.com/sapcc/helm-charts/tree/master/system/storage-monitoring

prometheus-server:
  name: storage

  retentionTime: 30d

  alertmanagers:
    hosts:
      - alertmanager.scaleout.eu-de-1.cloud.sap
      - alertmanager.scaleout.eu-nl-1.cloud.sap
  ingress:
    enabled: true
    authentication:
      sso:
        enabled: true
        authTLSSecret: kube-system/ingress-cacrt
        authTLSVerifyDepth: 3
        authTLSVerifyClient: on

  internalIngress:
    enabled: true

  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 10Gi

  alerts:
    tier: monitor

  resources:
    requests:
      cpu: 500m
      memory: 3Gi
  thanos:
    enabled: true

  additionalScrapeConfigs:
    name: storage-additional-scrape-config
    key: scrape-config.yaml

thanos:
  name: storage
  deployWholeThanos: true
  clusterDomain: kubernetes
  serviceAccount:
    create: false

netapp_cap_exporter:
  enabled: false
  apps:
    manila:
      scrapeInterval: 2m
      scrapeTimeout: 110s
      fullname: "netapp-capacity-exporter-manila"
    cinder:
      scrapeInterval: 2m
      scrapeTimeout: 110s
      fullname: "netapp-capacity-exporter-cinder"
    baremetal:
      scrapeInterval: 2m
      scrapeTimeout: 110s
      fullname: "netapp-capacity-exporter-bare-metal"
    controlplane:
      scrapeInterval: 2m
      scrapeTimeout: 110s
      fullname: "netapp-capacity-exporter-control-plane"
