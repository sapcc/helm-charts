apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-config
data:
  config.yaml: |
    domain: {{ .Values.ai-cloud-guard.domain }}
    webhook:
      host: {{ .Values.ai-cloud-guard.webhook.host }}
      port: {{ .Values.ai-cloud-guard.webhook.port}}
    awx:
      host: {{ .Values.ai-cloud-guard.awx.host }}
      token: {{ .Values.ai-cloud-guard.awx.token }}
    vcenter_username: {{ .Values.ai-cloud-guard.vcenter_username }}
    vcenter_password: {{ .Values.ai-cloud-guard.vcenter_password }}
    slack:
      bot_token: {{ .Values.ai-cloud-guard.slack.bot_token }}
      user_token: {{ .Values.ai-cloud-guard.slack.user_token }}
      app_token: {{ .Values.ai-cloud-guard.slack.app_token }}
      workspace: {{ .Values.ai-cloud-guard.slack.workspace }}
      vmware:
        info: {{ .Values.ai-cloud-guard.slack.vmware.info }}
        warning: {{ .Values.ai-cloud-guard.slack.vmware.warning }}
        critical: {{ .Values.ai-cloud-guard.slack.vmware.critical }}
      metal:
        info: {{ .Values.ai-cloud-guard.slack.metal.info }}
        warning: {{ .Values.ai-cloud-guard.slack.metal.warning }}
        critical: {{ .Values.ai-cloud-guard.slack.metal.critical }}
      test_channel: {{ .Values.ai-cloud-guard.slack.test_channel }}
    alertmanager:
      key: |-
        {{ .Values.ai-cloud-guard.alertmanager.key | nindent 6 | trim }}
      cert: |-
        {{ .Values.ai-cloud-guard.alertmanager.cert | nindent 6 | trim }}
