{{- if .Values.lease.enable }}
# apiVersion: coordination.k8s.io/v1
# kind: Lease
# metadata:
#   name: etcd-kcp-backup
#   namespace: {{ .Values.namespace | default "kube-system" }}
#   labels:
#   {{- include "chart.labels" . | nindent 4 }}
# spec:
# ---
apiVersion: coordination.k8s.io/v1
kind: Lease
metadata:
  name: etcd-kcp-backup-full-snap
  namespace: {{ .Values.namespace | default "kube-system" }}
  labels:
  {{- include "chart.labels" . | nindent 4 }}
spec:
---
apiVersion: coordination.k8s.io/v1
kind: Lease
metadata:
  name: etcd-kcp-backup-delta-snap
  namespace: {{ .Values.namespace | default "kube-system" }}
  labels:
  {{- include "chart.labels" . | nindent 4 }}
spec:
{{- end }}
