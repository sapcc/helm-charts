apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-config
data:
  config.yaml: |
    namespace: {{ .Values.edith.namespace }}
    image:
      name: {{ .Values.edith.image.name }}
    host: {{ .Values.edith.host }}
    port: {{ .Values.edith.port }}
    domain: {{ .Values.edith.domain }}
    AICORE_BASE_URL: {{ .Values.edith.AICORE_BASE_URL }}
    AICORE_AUTH_URL: {{ .Values.edith.AICORE_AUTH_URL }}
    AICORE_CLIENT_ID: {{ .Values.edith.AICORE_CLIENT_ID }}
    AICORE_CLIENT_SECRET: {{ .Values.edith.AICORE_CLIENT_SECRET }}
    AICORE_RESOURCE_GROUP: {{ .Values.edith.AICORE_RESOURCE_GROUP }}
    octobus_user: {{ .Values.edith.octobus_user }}
    octobus_password: {{ .Values.edith.octobus_password }}
    hana_host_vector: {{ .Values.edith.hana_host_vector }}
    hana_vector_pass: {{ .Values.edith.hana_vector_pass }}
    hana_vector_user: {{ .Values.edith.hana_vector_user }}
    cia_serviceuser_pat: {{ .Values.edith.cia_serviceuser_pat }}
    awx_base_url: {{ .Values.edith.awx_base_url }}
    awx_token: {{ .Values.edith.awx_token }}
    cia_serviceuser_pat_github_tools: {{ .Values.edith.cia_serviceuser_pat_github_tools }}
    github_token: {{ .Values.edith.github_token }}
    octobus_incident_url: {{ .Values.edith.octobus_incident_url }}
    octobus_change_request_url: {{ .Values.edith.octobus_change_request_url }}
    sci_ops_docs: {{ .Values.edith.sci_ops_docs }}
    sci_ops_github_url: {{ .Values.edith.sci_ops_github_url }}
    hammer_repo_url: {{ .Values.edith.hammer_repo_url }}
    agents:
      awx:
        sap_tools_url: {{ .Values.edith.agents.awx.sap_tools_url }}
        sap_baremetal_url: {{ .Values.edith.agents.awx.sap_baremetal_url }}
      infraops:
        github_token: {{ .Values.edith.agents.infraops.github_token }}
        github_url: {{ .Values.edith.agents.infraops.github_url }}
      netbox:
        url: {{ .Values.edith.agents.netbox.url }}
      prometheus:
        external_url: {{ .Values.edith.agents.prometheus.external_url }}
        internal_url: {{ .Values.edith.agents.prometheus.internal_url }}
      rag:
        sci_ops_docs: {{ .Values.edith.agents.rag.sci_ops_docs }}
    prometheus:
      key: |-
        {{ .Values.edith.prometheus.key | nindent 8 }}
      cert: |-
        {{ .Values.edith.prometheus.cert | nindent 8 }}
