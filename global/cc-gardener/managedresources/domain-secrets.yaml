{{- range $region := .Values.gardenlet.seedRegions }}
---
# name depends on gardenlet values (seedConfig.spec.dns.provider.secretRef)
apiVersion: v1
kind: Secret
metadata:
  name: openstack-{{ default $region.name $region.providerRegion }}
  namespace: garden
  labels:
    app: gardener
type: Opaque
stringData:
  domainName: ccadmin
  authURL: https://identity-3.{{ default $region.name $region.providerRegion }}.cloud.sap/v3
{{- if and $.Values.gardenlet.applicationCredentialIDOverride $.Values.gardenlet.applicationCredentialSecretOverride }}
  tenantName: gardener-customer
  applicationCredentialID: {{ $.Values.gardenlet.applicationCredentialIDOverride }}
  applicationCredentialSecret: {{ $.Values.gardenlet.applicationCredentialSecretOverride }}
  # requried for the backup to work appearently
  applicationCredentialName: {{ $.Values.gardenlet.applicationCredentialNameOverride }}
{{- else }}
  tenantName: cc-gardener
  applicationCredentialID: "vault+kvv2:///secrets/{{ default $region.name $region.providerRegion }}/cc-gardener/application_credential_id"
  applicationCredentialSecret: "vault+kvv2:///secrets/{{ default $region.name $region.providerRegion }}/cc-gardener/application_credential_secret"
  # requried for the backup to work appearently
  applicationCredentialName: cc-gardener
{{- end }}
{{- end }}
