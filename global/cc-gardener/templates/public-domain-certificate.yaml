{{- if .Values.garden.virtualCluster.publicDomain }}
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: {{ .Values.garden.name }}-apiserver-public
  namespace: garden
spec:
  dnsNames:
  - api.{{ .Values.garden.virtualCluster.publicDomain }}
  issuerRef:
    group: certmanager.cloud.sap
    kind: ClusterIssuer
    name: digicert-issuer
  secretName: {{ .Values.garden.name }}-apiserver-public-tls
  usages:
  - digital signature
{{- end }}
